{% extends "ticket/dashboard.html" %}
{% load staticfiles %}

{#{% load material_form %}#}

{% block content %}
    <!-- Content Header (Page header) -->
    <section class="content-header">
        {% block content-header %}
        {% endblock %}
    </section>

    <section class="content">
        <div class="row">
            <div>
                <table id="table_id" class="table table-striped table-bordered table-hover">
                    <thead>
                    <!--表格头部-->
                    {% block table_tr %}
                    {% endblock %}
                    <th>
                        <!--最后一列作为添加数据按钮-->
                        <a class="blue" href="{% url 'card_add' %}">
                            <i class="ace-icon fa fa-search-plus bigger-130"></i>
                            添加数据
                        </a>
                    </th>
                    </thead>
                    <!--表格内容-->
                    <tbody>
                    {% for item in data %}
                        <tr>
                            <!--通过for循环从data取出的具体表格内容-->
                            {% block table_td %}
                            {% endblock %}
                        </tr>

                    {% endfor %}

                    </tbody>
                </table>
            </div>
            <!--引入modal.html-->
            {% include 'ticket/modal.html' %}
            <!--引入pagination.html-->
            {% include 'ticket/pagination.html' %}
        </div>
    </section>

{% endblock %}

{% block script %}
    <!-- page script -->

    <script type="text/javascript">

        $(document).ready(function () {
            $('#table_id').DataTable({
                //分页配置
                "paging": false,
                //搜索配置
                "searching": false,
                "bInfo": false,
                //列配置
                "columnDefs": [{
                    //只有最后一行不需要排序
                    "orderable": false, "targets": -1
                }]
            });
        });
    </script>


{% endblock %}